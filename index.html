<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Gen Z Chat Translator</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      background: linear-gradient(135deg, #ff7eb3, #65c7f7);
      font-family: 'Comic Sans MS', sans-serif;
      color: #fff;
      display: flex; justify-content: center; align-items: center;
      min-height: 100vh; transition: background 0.3s, color 0.3s;
    }
    body.dark-mode { background: linear-gradient(135deg, #2c3e50, #4b79a1); color: #ddd; }
    .container {
      background: rgba(255, 255, 255, 0.1); backdrop-filter: blur(10px);
      border-radius: 20px; padding: 70px 30px 30px 30px; width: 90%; max-width: 600px;
      box-shadow: 0 0 20px rgba(255, 31, 166, 0.5); text-align: center; position: relative;
    }
    #themeButton, #emojiButton {
      position: absolute; top: 10px;
      color: #fff; font-size: 28px; cursor: pointer;
      transition: transform 0.2s ease, box-shadow 0.2s ease, opacity 0.2s ease;
      text-shadow: 0 0 12px rgba(0, 0, 0, 0.8);
    }
    body.dark-mode #themeButton, body.dark-mode #emojiButton { color: #f0f0f0; }
    #themeButton { left: 10px; }
    #emojiButton { left: 65px; }
    #themeButton:hover, #emojiButton:hover {
      transform: scale(1.2); box-shadow: 0 0 15px rgba(255, 31, 166, 1);
    }
    #themeButton:active, #emojiButton:active {
      opacity: 0.7;
    }
    h1 { margin-bottom: 20px; font-size: 28px; font-weight: 700; }
    textarea {
      width: 100%; padding: 15px; margin: 10px 0; border: none;
      border-radius: 15px; font-size: 16px; resize: vertical; min-height: 100px;
      font-family: 'Comic Sans MS', cursive, sans-serif; color: #000;
    }
    body.dark-mode textarea { color: #ddd; }
    .buttons-bottom {
      display: flex; flex-direction: row; justify-content: space-around; flex-wrap: nowrap;
      margin: 15px 0; gap: 10px;
    }
    button, .copy-btn {
      padding: 10px 20px; background: linear-gradient(135deg, #ff4ecd, #ff1fa6); border: none;
      border-radius: 15px; color: #fff; font-size: 16px; cursor: pointer;
      transition: transform 0.2s ease; width: 45%; font-weight: 700;
    }
    button:hover, .copy-btn:hover {
      transform: scale(1.05); background: linear-gradient(135deg, #ff1fa6, #ff4ecd);
    }
    .footer { margin-top: 15px; font-size: 14px; opacity: 0.8; }
    .output-section {
      margin-top: 20px; background: rgba(255, 255, 255, 0.2); padding: 15px;
      border-radius: 15px; text-align: left; min-height: 100px;
    }
    .output-section h3 { margin-bottom: 10px; font-weight: 700; }
    #outputText {
      font-size: 16px; min-height: 60px; overflow-wrap: break-word; white-space: pre-wrap;
      opacity: 0; animation: fadeIn 0.5s ease forwards;
      font-family: 'Comic Sans MS', cursive, sans-serif; color: #000;
    }
    body.dark-mode #outputText { color: #ddd; }
    #outputText strong { font-weight: 700; }
    #outputText ul { margin: 10px 0 10px 20px; }
    #outputText li { margin-bottom: 5px; }
    .word-of-day { margin-top: 10px; font-style: italic; font-size: 14px; }
    @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
    @media (max-width: 600px) {
      .container { width: 100%; max-width: 100%; padding: 70px 15px 15px 15px; border-radius: 0; }
      .output-section { border-radius: 15px; }
      .buttons-bottom { flex-wrap: nowrap; gap: 10px; }
      .buttons-bottom button { width: 48%; }
      #outputText { padding: 10px; }
      #themeButton, #emojiButton {
        font-size: 24px;
      }
      #themeButton { left: 10px; }
      #emojiButton { left: 60px; }
    }
  </style>
</head>
<body>
  <div class="container">
    <span id="themeButton" onclick="toggleTheme()" title="Toggle Theme">üåô</span>
    <span id="emojiButton" onclick="toggleEmoji()" title="Toggle Emoji Enhancer">üòÑ</span>
    <h1>üí¨ Gen Z Chat Translator üòé</h1>
    <div class="word-of-day" id="wordOfDay"></div>
    <textarea id="inputText" placeholder="Type in English or Hinglish (e.g., Bhai, kya scene hai?)..."></textarea>
    <div class="buttons-bottom">
      <button onclick="genZConvert()">Gen Z Text Converter üßÉ</button>
      <button onclick="genZReply()">Gen Z Reply üòé</button>
    </div>
    <div class="output-section" id="outputSection">
      <h3>Output</h3>
      <p id="outputText">Translation or reply appears here...</p>
      <button class="copy-btn" onclick="copyOutput()">Copy üìã</button>
    </div>
    <p class="footer">Made with ‚ù§Ô∏è by Zeel</p>
  </div>
  <script>
    let isDarkMode = false;
    let isEmojiEnabled = false;
    const loadingMessages = [
      "Load ho raha hai bhai! ‚è≥", "Chill maro, ban raha hai! üî•",
      "Thodi der, vibe check chal raha! üòé", "Ruk ja, bussin‚Äô output coming! ü´∂",
      "Bhai, sab lit hai, loading! ‚ú®"
    ];
    const genZWords = [
      { word: "Slay", meaning: "To do something amazingly well" },
      { word: "Lit", meaning: "Really fun, exciting, or amazing" },
      { word: "Bet", meaning: "Agreed or confirmed" },
      { word: "Yeet", meaning: "To throw or express excitement" }
    ];
    const slangMap = {
      "lit": "Really fun, exciting, or amazing",
      "slay": "To do something amazingly well",
      "bet": "Agreed or confirmed",
      "yeet": "To throw or express excitement",
      "fr fr": "For real, for real (truthfully)",
      "pop off": "To go all out or succeed",
      "no cap": "Honestly, no lie",
      "bussin": "Really good or awesome",
      "vibe": "Mood or atmosphere",
      "slaps": "Really good (like music or food)"
    };

    function getRandomLoadingMessage() { return loadingMessages[Math.floor(Math.random() * loadingMessages.length)]; }
    function getRandomWordOfDay() { return genZWords[Math.floor(Math.random() * genZWords.length)]; }
    function inferMood(output) {
      return output.includes("great") || output.includes("cool") || output.includes("lit") || output.includes("slay") ? "Positive" :
             output.includes("sad") || output.includes("bad") || output.includes("sus") ? "Negative" : "Neutral";
    }
    function replaceSlang(text) {
      return text.replace(/\b(lit|slay|bet|yeet|fr fr|pop off|no cap|bussin|vibe|slaps)\b/gi, match => `<span title="${slangMap[match.toLowerCase()] || 'Slang meaning'}">${match}</span>`);
    }
    function addEmojis(text, mood) {
      if (!isEmojiEnabled) return text;
      return text + (mood === "Positive" ? " ü´∂üíÖ‚ú®" : mood === "Negative" ? " üò©üíÄ" : " üòéüî•");
    }
    function sanitizeHTML(str) {
      const div = document.createElement("div");
      div.textContent = str;
      return div.innerHTML;
    }
    function formatApiResponse(text) {
      const lines = text.split('\n').filter(line => line.trim());
      let html = '';
      let inList = false;

      for (const line of lines) {
        if (line.startsWith('**') && line.endsWith('**')) {
          if (inList) {
            html += '</ul>';
            inList = false;
          }
          const section = line.replace(/\*\*/g, '').trim();
          html += `<strong>${sanitizeHTML(section)}</strong><br>`;
        } else if (line.startsWith('* ')) {
          if (!inList) {
            html += '<ul>';
            inList = true;
          }
          const item = line.replace(/^\* /, '').trim();
          html += `<li>${sanitizeHTML(item)}</li>`;
        }
      }
      if (inList) html += '</ul>';
      return html;
    }

    const wordOfDay = getRandomWordOfDay();
    document.getElementById("wordOfDay").textContent = `Word of the Day: ${wordOfDay.word} - ${wordOfDay.meaning}`;

    function toggleTheme() {
      isDarkMode = !isDarkMode;
      document.body.classList.toggle("dark-mode");
      document.getElementById("themeButton").textContent = isDarkMode ? "‚òÄÔ∏è" : "üåô";
    }
    function toggleEmoji() {
      isEmojiEnabled = !isEmojiEnabled;
      document.getElementById("emojiButton").textContent = isEmojiEnabled ? "‚úÖ" : "üòÑ";
    }
    function copyOutput() {
      const outputText = document.getElementById("outputText").textContent;
      navigator.clipboard.writeText(outputText).then(() => {
        alert("Output copied to clipboard! üòé");
      }).catch(err => {
        alert("Failed to copy output. Check console for details.");
      });
    }
    async function callGenZApi(inputText, action) {
      const apiUrl = "https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent";
      const apiKey = "AIzaSyDMepOWMQbY8ms295OFCcp8XHQ8iFiB5f0";
      let prompt;
      if (action === "convert") {
        prompt = `Convert the following text to super trendy Gen Z slang for English (e.g., "vibe," "slaps," "no cap," "bussin") and mix Gen Z slang with Hindi phrases for Hinglish (e.g., "bhai, kya baat," "mast vibe"). Add emojis (e.g., üî•, üò§, ü´∂) to each item for extra Gen Z flair. Keep it bold, playful, and trendy. Provide the output in this exact format:
**English Gen Z Slang:**
* [Slang 1 with emoji]
* [Slang 2 with emoji]
* [Slang 3 with emoji]
* [Add more if relevant]
**Hinglish Mix:**
* [Hinglish 1 with emoji]
* [Hinglish 2 with emoji]
* [Hinglish 3 with emoji]
* [Add more if relevant]
Do not include any additional paragraphs or explanations.
Text: "${inputText}"`;
      } else if (action === "reply") {
        prompt = `Generate a super trendy Gen Z-style reply to the following message in English (e.g., "vibe," "slaps," "no cap," "bussin") and mix Gen Z slang with Hindi phrases for Hinglish (e.g., "bhai, kya baat," "mast vibe"). Match the sentiment (positive, negative, neutral), keep it short and trendy, and add emojis (e.g., üî•, üò§, ü´∂) to each item for extra Gen Z flair. Provide the output in this exact format:
**English Gen Z Slang:**
* [Reply 1 with emoji]
* [Reply 2 with emoji]
* [Reply 3 with emoji]
* [Add more if relevant]
**Hinglish Mix:**
* [Hinglish Reply 1 with emoji]
* [Hinglish Reply 2 with emoji]
* [Hinglish Reply 3 with emoji]
* [Add more if relevant]
Do not include any additional paragraphs or explanations.
Message: "${inputText}"`;
      } else {
        return { success: false, error: "Invalid action" };
      }
      try {
        const response = await fetch(`${apiUrl}?key=${apiKey}`, {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({
            contents: [{ parts: [{ text: prompt }] }],
            generationConfig: { maxOutputTokens: 300, temperature: 0.7 }
          })
        });
        const data = await response.json();
        console.log("API Response:", data);
        if (!response.ok) {
          return { success: false, error: data.error?.message || `HTTP error: ${response.status}` };
        }
        if (data.candidates && data.candidates[0]?.content?.parts[0]?.text) {
          return { success: true, output: data.candidates[0].content.parts[0].text.trim() };
        }
        return { success: false, error: data.error?.message || "Invalid response format" };
      } catch (error) {
        return { success: false, error: `API request failed: ${error.message}` };
      }
    }
    async function genZConvert() {
      const inputText = document.getElementById("inputText").value.trim();
      if (inputText === "") { alert("Type something first!"); return; }
      document.getElementById("outputText").innerHTML = replaceSlang(getRandomLoadingMessage());
      await new Promise(resolve => setTimeout(resolve, 3000));
      const response = await callGenZApi(inputText, "convert");
      if (response.success) {
        let output = formatApiResponse(response.output);
        const mood = inferMood(output);
        output = replaceSlang(output);
        output = addEmojis(output, mood);
        document.getElementById("outputText").innerHTML = output;
      } else {
        alert(`Error: ${response.error}`);
        document.getElementById("outputText").textContent = "Oops, something broke! üòÖ";
      }
    }
    async function genZReply() {
      const inputText = document.getElementById("inputText").value.trim();
      if (inputText === "") { alert("Type something first!"); return; }
      document.getElementById("outputText").innerHTML = replaceSlang(getRandomLoadingMessage());
      await new Promise(resolve => setTimeout(resolve, 3000));
      const response = await callGenZApi(inputText, "reply");
      if (response.success) {
        let output = formatApiResponse(response.output);
        const mood = inferMood(output);
        output = replaceSlang(output);
        output = addEmojis(output, mood);
        document.getElementById("outputText").innerHTML = output;
      } else {
        alert(`Error: ${response.error}`);
        document.getElementById("outputText").textContent = "Oops, something broke! üòÖ";
      }
    }
  </script>
</body>
</html>